[gd_scene load_steps=17 format=3 uid="uid://c4kbg6yjncqfm"]

[ext_resource type="Shader" path="res://shader/crt.gdshader" id="1_mwh1s"]
[ext_resource type="Texture2D" uid="uid://b56x2nqhh8vo1" path="res://assets/pink.png" id="1_v0cjd"]
[ext_resource type="Script" path="res://assets/Player.gd" id="2_c88fv"]
[ext_resource type="Texture2D" uid="uid://dhpd8xll4o21" path="res://assets/player.png" id="3_d2r83"]
[ext_resource type="Texture2D" uid="uid://x5h4mcymp8dx" path="res://assets/light.png" id="4_as6n4"]
[ext_resource type="PackedScene" uid="uid://dg2icd6fsnaur" path="res://scenes/enemy.tscn" id="5_fhhcs"]
[ext_resource type="Texture2D" uid="uid://dt64eejyglffe" path="res://assets/wall_tile.png" id="6_do7ht"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_g8jts"]
shader = ExtResource("1_mwh1s")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hf8xc"]
size = Vector2(48, 112)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x0ods"]
size = Vector2(63, 124)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_j850j"]
polygon = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_g65ky"]
resource_name = "wall"
texture = ExtResource("6_do7ht")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_j850j")
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_dw68l"]
tile_size = Vector2i(32, 32)
occlusion_layer_0/light_mask = 1
occlusion_layer_0/sdf_collision = true
physics_layer_0/collision_layer = 1
sources/1 = SubResource("TileSetAtlasSource_g65ky")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_w4vx6"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_dl3bm"]
seamless = true
noise = SubResource("FastNoiseLite_w4vx6")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tiey2"]
shader = ExtResource("1_mwh1s")
shader_parameter/noise_texture = SubResource("NoiseTexture2D_dl3bm")

[node name="world" type="Node2D"]
material = SubResource("ShaderMaterial_g8jts")

[node name="Sprite2D" type="Sprite2D" parent="."]
modulate = Color(0.138637, 0.138637, 0.138637, 1)
position = Vector2(1893, 1438)
scale = Vector2(1293.73, 1000)
texture = ExtResource("1_v0cjd")

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(200, 200)
script = ExtResource("2_c88fv")

[node name="Sprite2D" type="Sprite2D" parent="Player"]
scale = Vector2(8, 8)
texture = ExtResource("3_d2r83")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
visible = false
shape = SubResource("RectangleShape2D_hf8xc")

[node name="Area2D" type="Area2D" parent="Player"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/Area2D"]
position = Vector2(1.5, 0)
shape = SubResource("RectangleShape2D_x0ods")

[node name="Camera2D" type="Camera2D" parent="Player"]
position_smoothing_enabled = true

[node name="PointLight2D" type="PointLight2D" parent="Player"]
position = Vector2(6, 6)
scale = Vector2(1.97235, 1.97235)
shadow_enabled = true
texture = ExtResource("4_as6n4")

[node name="Enemy" parent="." instance=ExtResource("5_fhhcs")]
scale = Vector2(4, 4)

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_dw68l")
rendering_quadrant_size = 32
format = 2
layer_0/tile_data = PackedInt32Array(6, 1, 0, 7, 1, 0, 8, 1, 0, 65544, 1, 0, 65545, 1, 0, 65546, 1, 0, 65547, 1, 0, 65548, 1, 0, 65549, 1, 0, 65550, 1, 0, 65551, 1, 0, 65552, 1, 0, 65553, 1, 0, 65554, 1, 0, 19, 1, 0, 20, 1, 0, 21, 1, 0, 22, 1, 0, 23, 1, 0, 24, 1, 0, 25, 1, 0, 26, 1, 0, 27, 1, 0, 28, 1, 0, 29, 1, 0, 30, 1, 0, -65506, 1, 0, -65505, 1, 0, 4194312, 1, 0, 4259848, 1, 0, 4325384, 1, 0, 4390920, 1, 0, 4456456, 1, 0, 4521992, 1, 0, 4587528, 1, 0, 4653064, 1, 0, 4718600, 1, 0, 4784136, 1, 0, 4849672, 1, 0, 4915208, 1, 0, 4980744, 1, 0, 5046280, 1, 0, 5111816, 1, 0, 5177353, 1, 0, 5242889, 1, 0, 5308426, 1, 0, 5373963, 1, 0, 5439500, 1, 0, 5439501, 1, 0, 5505038, 1, 0, 5505039, 1, 0, 5570576, 1, 0, 5570577, 1, 0, 5570578, 1, 0, 5570579, 1, 0, 5570580, 1, 0, 5570581, 1, 0, 5570582, 1, 0, 5570583, 1, 0, 5570584, 1, 0, 5505049, 1, 0, 5505050, 1, 0, 5439515, 1, 0, 5439516, 1, 0, 5373981, 1, 0, 5373982, 1, 0, 5308447, 1, 0, 5308448, 1, 0, 5308449, 1, 0, 5242914, 1, 0, 5242915, 1, 0, 5177380, 1, 0, 5177381, 1, 0, 5111846, 1, 0, 5111847, 1, 0, 5046312, 1, 0, 5046313, 1, 0, 4980778, 1, 0, 4980779, 1, 0, 4980780, 1, 0, 4915245, 1, 0, 4915246, 1, 0, 4915247, 1, 0, 4849712, 1, 0, 4849713, 1, 0, 4849714, 1, 0, 4849715, 1, 0, 4784180, 1, 0, 4784181, 1, 0, 4784182, 1, 0, 4718647, 1, 0, 4718648, 1, 0, 4718649, 1, 0, 4653114, 1, 0, 4653115, 1, 0, 4587580, 1, 0, 4587581, 1, 0, 4587582, 1, 0, 4522047, 1, 0, 4522048, 1, 0, 4522049, 1, 0, 4456514, 1, 0, 4456515, 1, 0, 4456516, 1, 0, 4456517, 1, 0, 4390982, 1, 0, 4390983, 1, 0, 4390984, 1, 0, 4390985, 1, 0, 4325450, 1, 0, 4325451, 1, 0, 4325452, 1, 0, 4325453, 1, 0, 4325454, 1, 0, 4325455, 1, 0, 4325456, 1, 0, 4325457, 1, 0, 4325458, 1, 0, 4325459, 1, 0, 4325460, 1, 0, 4325461, 1, 0, 4325462, 1, 0, 4325463, 1, 0, 4325464, 1, 0, 4325465, 1, 0, 4325466, 1, 0, 4325467, 1, 0, 4325468, 1, 0, 4325469, 1, 0, 4325470, 1, 0, 4325471, 1, 0, 4325472, 1, 0, 4325473, 1, 0, 4325474, 1, 0, 4325475, 1, 0, 4325476, 1, 0, 4325477, 1, 0, 4325478, 1, 0, 4325479, 1, 0, 4325480, 1, 0, 4325481, 1, 0, 4325482, 1, 0, 4325483, 1, 0, 4325484, 1, 0, 4325485, 1, 0, 4325486, 1, 0, 4325487, 1, 0, 4325488, 1, 0, 4325489, 1, 0, 4325490, 1, 0, 4325491, 1, 0, 4325492, 1, 0, 4325493, 1, 0, 4325494, 1, 0, 4325495, 1, 0, 4325496, 1, 0, 4325497, 1, 0, 4325498, 1, 0, 4325499, 1, 0, 4325500, 1, 0, 4325501, 1, 0, 4325502, 1, 0, 4325503, 1, 0, 4325504, 1, 0, 4325505, 1, 0, 4325506, 1, 0, 4325507, 1, 0, 4325508, 1, 0, 4325509, 1, 0, 4325510, 1, 0, 4259975, 1, 0, 4259976, 1, 0, 4259977, 1, 0, 4259978, 1, 0, 4259979, 1, 0, 4194444, 1, 0, 4194445, 1, 0, 4128910, 1, 0, 4063375, 1, 0, 4063376, 1, 0, 4063377, 1, 0, 3997842, 1, 0, 3932307, 1, 0, 3932308, 1, 0, 3866773, 1, 0, 3866774, 1, 0, 3801238, 1, 0, 3735703, 1, 0, 3670167, 1, 0, 3604632, 1, 0, 3539097, 1, 0, 3473561, 1, 0, 3408026, 1, 0, 3342491, 1, 0, 3276956, 1, 0, 3211420, 1, 0, 3145885, 1, 0, 3080350, 1, 0, 3014815, 1, 0, 2949280, 1, 0, 2883744, 1, 0, 2818209, 1, 0, 2752674, 1, 0, 2687139, 1, 0, 2621604, 1, 0, 2556069, 1, 0, 2556070, 1, 0, 2490534, 1, 0, -65504, 1, 0, -65503, 1, 0, -65502, 1, 0, -65501, 1, 0, -65500, 1, 0, -65499, 1, 0, -65498, 1, 0, -65497, 1, 0, 40, 1, 0, 41, 1, 0, 42, 1, 0, 65579, 1, 0, 65580, 1, 0, 131116, 1, 0, 196653, 1, 0, 262190, 1, 0, 327726, 1, 0, 327727, 1, 0, 393264, 1, 0, 458801, 1, 0, 524338, 1, 0, 589875, 1, 0, 655411, 1, 0, 720948, 1, 0, 786485, 1, 0, 786486, 1, 0, 852023, 1, 0, 917560, 1, 0, 983097, 1, 0, 1048634, 1, 0, 1114171, 1, 0, 1179708, 1, 0, 1245245, 1, 0, 1310782, 1, 0, 1376319, 1, 0, 1441856, 1, 0, 1507393, 1, 0, 1572930, 1, 0, 1638467, 1, 0, 1704004, 1, 0, 1704005, 1, 0, 1769542, 1, 0, 1835079, 1, 0, 1900616, 1, 0, 1966153, 1, 0, 2031690, 1, 0, 2097227, 1, 0, 2162764, 1, 0, 2228301, 1, 0, 2293838, 1, 0, 2359375, 1, 0, 2424912, 1, 0, 2490449, 1, 0, 2555986, 1, 0, 2621523, 1, 0, 2687060, 1, 0, 2752597, 1, 0, 2818133, 1, 0, 2818134, 1, 0, 1376258, 1, 0, 1441794, 1, 0, 1507330, 1, 0, 1572867, 1, 0, 1572868, 1, 0, 1638404, 1, 0, 1638405, 1, 0, 1703941, 1, 0, 1703942, 1, 0, 1703943, 1, 0, 1769480, 1, 0, 1769481, 1, 0, 1769482, 1, 0, 1769483, 1, 0, 1835020, 1, 0, 1835021, 1, 0, 1835022, 1, 0, 1835023, 1, 0, 1835024, 1, 0, 1835025, 1, 0, 1835026, 1, 0, 1835027, 1, 0, 1835028, 1, 0, 1835029, 1, 0, 1835030, 1, 0, 1835031, 1, 0, 1835032, 1, 0, 1835033, 1, 0, 1900570, 1, 0, 1900571, 1, 0, 1900572, 1, 0, 1900573, 1, 0, 1900574, 1, 0, 1966111, 1, 0, 1966112, 1, 0, 2031649, 1, 0, 2097186, 1, 0, 2097187, 1, 0, 2162724, 1, 0, 2228261, 1, 0, 2228262, 1, 0, 2228263, 1, 0, 2293800, 1, 0, 2293801, 1, 0, 2359337, 1, 0, 2359338, 1, 0, 3342393, 1, 0, 3342394, 1, 0, 3407931, 1, 0, 3407932, 1, 0, 3473469, 1, 0, 3473470, 1, 0, 3539007, 1, 0, 3539008, 1, 0, 3539009, 1, 0, 3539010, 1, 0, 3604547, 1, 0, 3604548, 1, 0, 3604549, 1, 0, 3670086, 1, 0, 3670087, 1, 0, 3670088, 1, 0, 3670089, 1, 0, 3735626, 1, 0, 3735627, 1, 0, 3735628, 1, 0, 3735629, 1, 0, 3735630, 1, 0, 3735631, 1, 0, 3735632, 1, 0, 3735633, 1, 0, 3735634, 1, 0, 3735635, 1, 0, 3801172, 1, 0, 3801173, 1, 0, 3801174, 1, 0, 3801175, 1, 0, 3801176, 1, 0, 3801177, 1, 0, 3801178, 1, 0, 3866715, 1, 0, 3866716, 1, 0, 3866717, 1, 0, 3866718, 1, 0, 3866719, 1, 0, 3932255, 1, 0, 3932256, 1, 0, 3932257, 1, 0, 3932258, 1, 0, 3932259, 1, 0, 3932260, 1, 0, 3932261, 1, 0, 3932262, 1, 0, 3932263, 1, 0, 3932264, 1, 0, 3932265, 1, 0, 3866730, 1, 0, 3866731, 1, 0, 3801196, 1, 0, 3801197, 1, 0, 3735662, 1, 0, 3735663, 1, 0, 3735664, 1, 0, 3670129, 1, 0, 3670130, 1, 0, 3670131, 1, 0, 3604596, 1, 0, 3539061, 1, 0, 3539062, 1, 0, 3539063, 1, 0, 3473528, 1, 0, 3407993, 1, 0, 3407994, 1, 0, 3407995, 1, 0, 3342460, 1, 0, 3276924, 1, 0, 3276925, 1, 0, 3211390, 1, 0, 3211391, 1, 0, 3145855, 1, 0, 4063240, 1, 0, 3997704, 1, 0, 3932168, 1, 0, 3866632, 1, 0, 3801096, 1, 0, 3735560, 1, 0, 3670024, 1, 0, 3604488, 1, 0, 3538952, 1, 0, 3473415, 1, 0, 3407879, 1, 0, 3342343, 1, 0, 3276807, 1, 0, 3211271, 1, 0, 3145735, 1, 0, 3080199, 1, 0, 3014663, 1, 0, 2949127, 1, 0, 2883591, 1, 0, 2818054, 1, 0, 2752518, 1, 0, 2686982, 1, 0, 2621446, 1, 0, 2555910, 1, 0, 2490374, 1, 0, 2424838, 1, 0, 2359302, 1, 0, 2293766, 1, 0, 2228230, 1, 0, 2162694, 1, 0, 2097158, 1, 0, 2097157, 1, 0, 2031621, 1, 0, 1966085, 1, 0, 2818067, 1, 0, 2883603, 1, 0, 2949139, 1, 0, 3014675, 1, 0, 3080211, 1, 0, 3145747, 1, 0, 3211283, 1, 0, 3276819, 1, 0, 3342355, 1, 0, 3407891, 1, 0, 3473427, 1, 0, 3538964, 1, 0, 3604500, 1, 0, 3670036, 1, 0, 3735572, 1, 0, 3801109, 1, 0, 3866645, 1, 0, 3932182, 1, 0, 3997719, 1, 0, 3997720, 1, 0, 4063257, 1, 0, 4063258, 1, 0, 4063259, 1, 0, 4063260, 1, 0, 4063261, 1, 0, 4063262, 1, 0, 4063263, 1, 0, 4063264, 1, 0, 4063265, 1, 0, 4063266, 1, 0, 3997730, 1, 0, 3997731, 1, 0, 3932195, 1, 0, 1245195, 1, 0, 1245196, 1, 0, 1179660, 1, 0, 1179661, 1, 0, 1114126, 1, 0, 1048590, 1, 0, 1048591, 1, 0, 720922, 1, 0, 720923, 1, 0, 720924, 1, 0, 655388, 1, 0, 655389, 1, 0, 655390, 1, 0, 589854, 1, 0, 917542, 1, 0, 852007, 1, 0, 852008, 1, 0, 786472, 1, 0, 786473, 1, 0, 720938, 1, 0, 720939, 1, 0, 655403, 1, 0, 655404, 1, 0, 589868, 1, 0, 589869, 1, 0, 524333, 1, 0, 524334, 1, 0)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_tiey2")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[connection signal="body_entered" from="Player/Area2D" to="Player" method="_on_area_2d_body_entered"]
